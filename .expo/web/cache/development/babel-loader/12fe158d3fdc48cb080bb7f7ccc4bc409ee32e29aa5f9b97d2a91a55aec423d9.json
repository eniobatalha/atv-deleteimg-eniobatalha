{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport * as ImagePicker from 'react-native-image-picker';\nimport { StatusBar } from 'expo-status-bar';\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getStorage, ref } from \"firebase/storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var firebaseConfig = {\n    apiKey: \"AIzaSyA3Kb9CCLDu4xfI9_rmCDLwkEPPTsOFL4c\",\n    authDomain: \"aula-mobile-76f22.firebaseapp.com\",\n    projectId: \"aula-mobile-76f22\",\n    storageBucket: \"aula-mobile-76f22.appspot.com\",\n    messagingSenderId: \"588274377803\",\n    appId: \"1:588274377803:web:74f45262068dddf72b99ce\",\n    measurementId: \"G-GNVSBPGQVC\"\n  };\n  var app = initializeApp(firebaseConfig);\n  var analytics = getAnalytics(app);\n  var storage = getStorage();\n  var storageRef = ref(storage);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUri = _useState2[0],\n    setImageUri = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    uploading = _useState4[0],\n    setUploading = _useState4[1];\n  var pickImage = function pickImage() {\n    ImagePicker.launchImageLibrary({}, function (response) {\n      if (response.uri) {\n        setImageUri(response.uri);\n      }\n    });\n  };\n  var uploadImage = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (!imageUri) {\n        Alert.alert('Selecione uma imagem antes de enviar.');\n        return;\n      }\n      setUploading(true);\n      var filename = imageUri.substring(imageUri.lastIndexOf('/') + 1);\n      try {\n        var reference = storage().ref(`images/${filename}`);\n        yield reference.putFile(imageUri);\n        var downloadURL = yield reference.getDownloadURL();\n        Alert.alert('Sucesso', 'Imagem enviada com sucesso.');\n        setImageUri(null);\n        setUploading(false);\n        console.log('URL de download:', downloadURL);\n      } catch (error) {\n        console.error('Erro ao enviar imagem:', error);\n        Alert.alert('Erro', 'Houve um erro ao enviar a imagem.');\n        setUploading(false);\n      }\n    });\n    return function uploadImage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: [_jsx(Button, {\n      title: \"Escolher Imagem\",\n      onPress: pickImage\n    }), imageUri && _jsx(Image, {\n      source: {\n        uri: imageUri\n      },\n      style: {\n        width: 200,\n        height: 200,\n        marginVertical: 20\n      }\n    }), uploading ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"#0000ff\"\n    }) : _jsx(Button, {\n      title: \"Enviar Imagem\",\n      onPress: uploadImage,\n      disabled: !imageUri\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","StyleSheet","Button","Image","Alert","ActivityIndicator","ImagePicker","StatusBar","initializeApp","getAnalytics","getStorage","ref","jsx","_jsx","jsxs","_jsxs","App","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","analytics","storage","storageRef","_useState","_useState2","_slicedToArray","imageUri","setImageUri","_useState3","_useState4","uploading","setUploading","pickImage","launchImageLibrary","response","uri","uploadImage","_ref","_asyncToGenerator","alert","filename","substring","lastIndexOf","reference","putFile","downloadURL","getDownloadURL","console","log","error","apply","arguments","style","flex","alignItems","justifyContent","children","title","onPress","source","width","height","marginVertical","size","color","disabled","styles","create","container","backgroundColor"],"sources":["/Users/nilsonjunior/aulamobile/my-app/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, StyleSheet, Button, Image, Alert, ActivityIndicator } from 'react-native';\nimport * as ImagePicker from 'react-native-image-picker';\nimport { StatusBar } from 'expo-status-bar';\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getStorage, ref } from \"firebase/storage\";\n\nexport default function App() {\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyA3Kb9CCLDu4xfI9_rmCDLwkEPPTsOFL4c\",\n    authDomain: \"aula-mobile-76f22.firebaseapp.com\",\n    projectId: \"aula-mobile-76f22\",\n    storageBucket: \"aula-mobile-76f22.appspot.com\",\n    messagingSenderId: \"588274377803\",\n    appId: \"1:588274377803:web:74f45262068dddf72b99ce\",\n    measurementId: \"G-GNVSBPGQVC\"\n  };\n\n  // Initialize Firebase\n  const app = initializeApp(firebaseConfig);\n  const analytics = getAnalytics(app);\n\n  // Get a reference to the storage service, which is used to create references in your storage bucket\n  const storage = getStorage();\n\n  // Create a storage reference from our storage service\n  const storageRef = ref(storage);\n\n  const [imageUri, setImageUri] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  const pickImage = () => {\n    ImagePicker.launchImageLibrary({}, (response) => {\n      if (response.uri) {\n        setImageUri(response.uri);\n      }\n    });\n  };\n\n  const uploadImage = async () => {\n    if (!imageUri) {\n      Alert.alert('Selecione uma imagem antes de enviar.');\n      return;\n    }\n\n    setUploading(true);\n    const filename = imageUri.substring(imageUri.lastIndexOf('/') + 1);\n\n    try {\n      const reference = storage().ref(`images/${filename}`);\n      await reference.putFile(imageUri);\n      const downloadURL = await reference.getDownloadURL();\n      Alert.alert('Sucesso', 'Imagem enviada com sucesso.');\n      setImageUri(null);\n      setUploading(false);\n      console.log('URL de download:', downloadURL);\n    } catch (error) {\n      console.error('Erro ao enviar imagem:', error);\n      Alert.alert('Erro', 'Houve um erro ao enviar a imagem.');\n      setUploading(false);\n    }\n  };\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Button title=\"Escolher Imagem\" onPress={pickImage} />\n      {imageUri && <Image source={{ uri: imageUri }} style={{ width: 200, height: 200, marginVertical: 20 }} />}\n      {uploading ? (\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      ) : (\n        <Button title=\"Enviar Imagem\" onPress={uploadImage} disabled={!imageUri} />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}